
#!/bin/bash

while read key ; do

    sqlcipher -line $1 'PRAGMA key = "'$key'";ATTACH DATABASE "decrypted_database.db" AS decrypted_database KEY "";' 2> response
    response=$(cat response)
    if [ "$response" = "Error: file is not a database" ] ; then
    echo "continuing as response is $response and key is $key"
    continue
    else
    echo "found : $key"
    break
    fi
    rm -f response

done < $2

# ./brute.sh encrypted.db pwd.txt