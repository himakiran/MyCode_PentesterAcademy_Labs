#!/usr/bin/python

from pysqlcipher import dbapi2 as sqlite

import sys

conn = sqlite.connect(sys.argv[1])

c = conn.cursor()

f = open(sys.argv[2], 'r')

for line in f:

        key = line.strip()
        print "Trying : " + key

        c.execute("PRAGMA key='" + key + "'")

        try:
                c.execute('SELECT count(*) FROM sqlite_master;')
                print " key is " + key + "\n"
                break
        except:
                pass

